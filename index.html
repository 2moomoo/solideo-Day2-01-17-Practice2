<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸŒ ì—¬í–‰ ê²½ë¡œ ì¶”ì²œ - AI ê¸°ë°˜ ìµœì í™”</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); min-height: 100vh; }
        .container { max-width: 1400px; margin: 0 auto; padding: 0 20px; }
        header { background: white; box-shadow: 0 2px 10px rgba(0,0,0,0.1); padding: 20px 0; }
        .header-content { display: flex; align-items: center; gap: 15px; }
        .logo { font-size: 48px; }
        h1 { font-size: 32px; color: #1a202c; }
        .subtitle { color: #718096; font-size: 14px; }
        main { padding: 30px 0; }
        .grid { display: grid; grid-template-columns: 380px 1fr; gap: 30px; }
        @media (max-width: 1024px) { .grid { grid-template-columns: 1fr; } }
        .card { background: white; border-radius: 12px; padding: 25px; box-shadow: 0 4px 20px rgba(0,0,0,0.1); margin-bottom: 20px; }
        h2 { font-size: 24px; margin-bottom: 20px; color: #1a202c; }
        h3 { font-size: 20px; margin-bottom: 15px; color: #1a202c; }
        .form-group { margin-bottom: 20px; }
        label { display: block; margin-bottom: 8px; font-weight: 600; color: #4a5568; font-size: 14px; }
        input[type="text"], input[type="date"], input[type="number"] { width: 100%; padding: 12px; border: 2px solid #e2e8f0; border-radius: 8px; font-size: 15px; transition: border-color 0.3s; }
        input:focus { outline: none; border-color: #667eea; }
        .form-row { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; }
        .budget-display { display: block; margin-top: 5px; font-size: 13px; color: #718096; }
        .tags { display: flex; flex-wrap: wrap; gap: 10px; }
        .tag { padding: 8px 16px; border-radius: 20px; border: none; cursor: pointer; font-size: 14px; background: #e2e8f0; color: #4a5568; transition: all 0.3s; }
        .tag.active { background: #667eea; color: white; }
        .btn-primary { width: 100%; padding: 15px; background: #667eea; color: white; border: none; border-radius: 8px; font-size: 16px; font-weight: 600; cursor: pointer; transition: background 0.3s; }
        .btn-primary:hover { background: #5568d3; }
        .btn-primary:disabled { background: #cbd5e0; cursor: not-allowed; }
        .spinner { display: inline-block; animation: spin 1s linear infinite; }
        @keyframes spin { 100% { transform: rotate(360deg); } }
        .error-box { background: #fed7d7; border: 2px solid #fc8181; color: #c53030; padding: 15px; border-radius: 8px; margin-top: 15px; }
        .progress-box { background: #bee3f8; border: 2px solid #4299e1; padding: 15px; border-radius: 8px; margin-top: 15px; max-height: 400px; overflow-y: auto; }
        .progress-header { display: flex; gap: 10px; margin-bottom: 10px; }
        .progress-sub { font-size: 12px; color: #2c5282; }
        .progress-messages { font-family: 'Courier New', monospace; font-size: 12px; color: #2c5282; line-height: 1.8; }
        .map-container { height: 500px; border-radius: 8px; overflow: hidden; }
        .map-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px; }
        .map-info { font-size: 14px; color: #718096; }
        .map-legend { display: flex; gap: 20px; margin-top: 15px; font-size: 14px; color: #4a5568; }
        .legend-dot { display: inline-block; width: 12px; height: 12px; background: #667eea; border-radius: 50%; margin-right: 5px; }
        .empty-state { text-align: center; padding: 60px 20px; color: #718096; }
        .results-summary { background: #edf2f7; border-left: 4px solid #667eea; }
        .route-card { background: white; border-radius: 12px; padding: 25px; margin-bottom: 20px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); cursor: pointer; transition: all 0.3s; border: 2px solid transparent; }
        .route-card:hover { box-shadow: 0 4px 20px rgba(0,0,0,0.15); }
        .route-card.selected { border-color: #667eea; }
        .route-header { display: flex; justify-content: space-between; align-items: start; margin-bottom: 20px; }
        .route-title { display: flex; align-items: center; gap: 10px; }
        .badge { background: #fed7d7; color: #c53030; padding: 4px 12px; border-radius: 12px; font-size: 12px; font-weight: 600; }
        .badge.recommended { background: #fef5c3; color: #975a16; }
        .route-price { text-align: right; }
        .price-main { font-size: 28px; font-weight: 700; color: #667eea; }
        .price-sub { font-size: 14px; color: #718096; }
        .breakdown { display: grid; grid-template-columns: repeat(3, 1fr); gap: 15px; padding: 15px; background: #f7fafc; border-radius: 8px; margin-bottom: 20px; }
        .breakdown-item { text-align: center; }
        .breakdown-label { font-size: 12px; color: #718096; margin-bottom: 5px; }
        .breakdown-value { font-size: 16px; font-weight: 600; color: #1a202c; }
        .section { margin-bottom: 20px; }
        .section-title { font-size: 14px; font-weight: 600; color: #4a5568; margin-bottom: 10px; }
        .transport-item { display: flex; align-items: center; gap: 10px; padding: 10px; background: #f7fafc; border-radius: 6px; margin-bottom: 8px; }
        .transport-icon { font-size: 24px; }
        .attraction-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 10px; }
        .attraction-item { padding: 12px; background: #f7fafc; border-radius: 6px; }
        .attraction-name { font-weight: 600; margin-bottom: 5px; }
        .attraction-details { font-size: 12px; color: #718096; }
        .tag-list { display: flex; gap: 5px; flex-wrap: wrap; margin-top: 5px; }
        .tag-small { font-size: 11px; padding: 3px 8px; background: #bee3f8; color: #2c5282; border-radius: 10px; }
        footer { background: white; margin-top: 40px; padding: 30px 0; text-align: center; color: #718096; border-top: 1px solid #e2e8f0; }
        .footer-small { font-size: 12px; margin-top: 5px; }
    </style>
</head>
<body>
    <header>
        <div class="container">
            <div class="header-content">
                <span class="logo">ğŸŒ</span>
                <div>
                    <h1>ì—¬í–‰ ê²½ë¡œ ì¶”ì²œ</h1>
                    <p class="subtitle">Google Maps + TSP ì•Œê³ ë¦¬ì¦˜ + ì‹¤ì‹œê°„ API</p>
                </div>
            </div>
        </div>
    </header>

    <main class="container">
        <div class="grid">
            <div>
                <div class="card">
                    <h2>ì—¬í–‰ ì •ë³´ ì…ë ¥</h2>
                    <form id="searchForm">
                        <div class="form-row">
                            <div class="form-group">
                                <label>ì¶œë°œì§€</label>
                                <input type="text" id="departure" value="ì„œìš¸" required>
                            </div>
                            <div class="form-group">
                                <label>ë„ì°©ì§€</label>
                                <input type="text" id="destination" value="ë¶€ì‚°" required>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label>ì¶œë°œ ë‚ ì§œ</label>
                                <input type="date" id="startDate" required>
                            </div>
                            <div class="form-group">
                                <label>ì—¬í–‰ ê¸°ê°„ (ì¼)</label>
                                <input type="number" id="duration" value="2" min="1" max="30" required>
                            </div>
                        </div>
                        <div class="form-group">
                            <label>ì˜ˆì‚° (ì›)</label>
                            <input type="number" id="budget" value="500000" min="0" step="10000" required>
                            <span class="budget-display" id="budgetDisplay">500,000ì›</span>
                        </div>
                        <div class="form-group">
                            <label>ì—¬í–‰ ì·¨í–¥</label>
                            <div class="tags" id="preferenceTags"></div>
                        </div>
                        <button type="submit" class="btn-primary" id="searchBtn">
                            <span id="btnText">ê²½ë¡œ ê²€ìƒ‰</span>
                            <span id="btnSpinner" class="spinner" style="display: none;">â³</span>
                        </button>
                    </form>
                </div>
                <div id="errorMessage" class="error-box" style="display: none;"></div>
                <div id="progressBox" class="progress-box" style="display: none;">
                    <div class="progress-header">
                        <div class="spinner">â³</div>
                        <div>
                            <strong>ê²½ë¡œ íƒìƒ‰ ì¤‘...</strong>
                            <div class="progress-sub">ì‹¤ì‹œê°„ APIë¡œ ìµœì  ê²½ë¡œë¥¼ ì°¾ê³  ìˆìŠµë‹ˆë‹¤</div>
                        </div>
                    </div>
                    <div id="progressMessages" class="progress-messages"></div>
                </div>
            </div>

            <div>
                <div class="card">
                    <div class="map-header">
                        <h3>ê²½ë¡œ ì§€ë„</h3>
                        <div id="mapInfo" class="map-info"></div>
                    </div>
                    <div id="map" class="map-container"></div>
                    <div class="map-legend">
                        <span><span class="legend-dot"></span> êµí†µ ê²½ë¡œ</span>
                        <span>ğŸ“ ëª…ì†Œ</span>
                        <span>ğŸ¨ ìˆ™ì†Œ</span>
                    </div>
                </div>
                <div id="resultsContainer" style="display: none;"></div>
                <div id="emptyState" class="card empty-state">
                    <p>ê²€ìƒ‰ ê²°ê³¼ê°€ ì—†ìŠµë‹ˆë‹¤. ìœ„ì—ì„œ ì—¬í–‰ ì •ë³´ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.</p>
                </div>
            </div>
        </div>
    </main>

    <footer>
        <div class="container">
            <p>ê³ ë„í™”ëœ ì—¬í–‰ ê²½ë¡œ ìµœì í™” ì‹œìŠ¤í…œ â€¢ TSP ì•Œê³ ë¦¬ì¦˜ + Google Maps API</p>
            <p class="footer-small">ë¬´ë£Œ APIë§Œ ì‚¬ìš© â€¢ Apache License 2.0</p>
        </div>
    </footer>

    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script>
        const API_CONFIG={GOOGLE_MAPS_KEY:'',OPENTRIPMAP_KEY:'5ae2e3f221c38a28845f05b6a2c6e8fb5dc7a5e8b0a9c0ff09c9c19d',OPENROUTE_KEY:'5b3ce3597851110001cf6248d8f5c7b8e2e9487cb4a87fe2d20e7d9f',NOMINATIM_BASE_URL:'https://nominatim.openstreetmap.org',OPENROUTE_BASE_URL:'https://api.openrouteservice.org/v2',OPENTRIPMAP_BASE_URL:'https://api.opentripmap.com/0.1'};const PREFERENCE_TAGS=['ìì—°','ë°”ë‹¤','ì‚°','ì—­ì‚¬','ë¬¸í™”','ì˜ˆìˆ ','ë§›ì§‘','ì‡¼í•‘','ì‚¬ì§„','ì•¡í‹°ë¹„í‹°','íœ´ì‹','ëŸ­ì…”ë¦¬'];class APICache{constructor(){this.cache=new Map();this.defaultTTL=3600000}generateKey(e,t){return`${e}:${JSON.stringify(t)}`}get(e,t){const a=this.generateKey(e,t),c=this.cache.get(a);return!c||Date.now()>c.expiresAt?(this.cache.delete(a),null):(console.log(`[Cache HIT] ${a}`),c.data)}set(e,t,a){const c=this.generateKey(e,t);this.cache.set(c,{data:a,expiresAt:Date.now()+this.defaultTTL})}async withCache(e,t,a){const c=this.get(e,t);if(null!==c)return c;const r=await a();return this.set(e,t,r),r}}const globalCache=new APICache;async function geocode(e){try{const t=`${API_CONFIG.NOMINATIM_BASE_URL}/search?`+new URLSearchParams({q:e,format:'json',limit:'1','accept-language':'ko'}),a=await fetch(t,{headers:{'User-Agent':'TravelRouteApp/1.0'}}),c=await a.json();if(0===c.length)return null;const r=c[0];return{lat:parseFloat(r.lat),lon:parseFloat(r.lon),display_name:r.display_name}}catch(e){return console.error('Geocoding error:',e),null}}function calculateDistance(e,t,a,c){const r=6371,n=toRad(a-e),s=toRad(c-t),o=Math.sin(n/2)*Math.sin(n/2)+Math.cos(toRad(e))*Math.cos(toRad(a))*Math.sin(s/2)*Math.sin(s/2),i=2*Math.atan2(Math.sqrt(o),Math.sqrt(1-o));return r*i}function toRad(e){return e*(Math.PI/180)}async function getRoute(e,t){try{const a=`${API_CONFIG.OPENROUTE_BASE_URL}/directions/driving-car`,c={coordinates:[[e.lon,e.lat],[t.lon,t.lat]],instructions:!0,units:'km'},r=await fetch(a,{method:'POST',headers:{Authorization:API_CONFIG.OPENROUTE_KEY,'Content-Type':'application/json'},body:JSON.stringify(c)}),n=await r.json();if(!n.routes||0===n.routes.length)return null;const s=n.routes[0];return{distance:s.summary.distance,duration:s.summary.duration}}catch(e){return console.error('Routing error:',e),null}}async function searchAttractions(e,t=10){try{const a=new URLSearchParams({lon:e.lon.toString(),lat:e.lat.toString(),radius:(1e3*t).toString(),limit:'50',format:'json',apikey:API_CONFIG.OPENTRIPMAP_KEY}),c=`${API_CONFIG.OPENTRIPMAP_BASE_URL}/en/places/radius?${a}`,r=await fetch(c),n=await r.json();return n.filter((e=>e.name&&''!==e.name.trim()))}catch(e){return console.error('Attractions search error:',e),[]}}function calculateTransportCost(e,t){const a={flight:150,train:80,bus:50,car:100};let c=1;e>500?c=.85:e>300?c=.9:e>100&&(c=.95);const r=e*a[t]*c,n='flight'===t?15e3:0;return Math.round(r+n)}function calculateTransportDuration(e,t){const a={flight:500,train:200,bus:80,car:90},c={flight:120,train:30,bus:20,car:0};return Math.round(e/a[t]*60+c[t])}function recommendTransportMode(e){const t=[];return e>=300&&t.push('flight'),e>=50&&t.push('train'),e>=30&&t.push('bus'),e<=500&&t.push('car'),t}class EnhancedRouteSearchService{async search(e,t){let a={cost:.45,time:.3,preference:.2,fatigue:.05};const c=e=>{console.log(e),t&&t(e)};c(`ğŸš€ íƒìƒ‰ ì‹œì‘: ${e.departure} â†’ ${e.destination}`);try{c('ğŸ“ ìœ„ì¹˜ ì¡°íšŒ ì¤‘...');const[t,r]=await Promise.all([globalCache.withCache('geocode',{address:e.departure},(()=>geocode(e.departure))),globalCache.withCache('geocode',{address:e.destination},(()=>geocode(e.destination)))]);if(!t||!r)throw new Error('ìœ„ì¹˜ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤');c(`âœ… ${t.display_name}`),c(`âœ… ${r.display_name}`),c('ğŸ—ºï¸ ê²½ë¡œ ê³„ì‚° ì¤‘...');const n=await globalCache.withCache('route',{start:t,end:r},(async()=>{const e=await getRoute(t,r);if(e)return{distance:e.distance,duration:Math.round(e.duration/60)};const a=calculateDistance(t.lat,t.lon,r.lat,r.lon);return{distance:1.3*a,duration:Math.round(1.3*a/80*60)}}));c(`âœ… ${n.distance.toFixed(1)}km, ${Math.floor(n.duration/60)}ì‹œê°„ ${n.duration%60}ë¶„`),c('ğŸ¯ ëª…ì†Œ ê²€ìƒ‰ ì¤‘...');const s=await globalCache.withCache('attractions',{location:r},(()=>searchAttractions(r,15))),o=s.map((e=>({name:e.name,location:e.point?`${e.point.lat.toFixed(4)}, ${e.point.lon.toFixed(4)}`:'',types:(e.kinds||'').split(','),rating:(e.rate||3)/7*5}))).slice(0,10);c(`âœ… ${o.length}ê°œ ë°œê²¬`),c('ğŸ”„ ê²½ë¡œ ìƒì„± ì¤‘...');const i=this.generateTransportOptions(e,t,r,n),l=this.generateAccommodationOptions(e),d=[];for(let t=0;t<Math.min(i.length,4);t++)for(let a=0;a<Math.min(i.length,4);a++)for(const c of l){const r=i[t],n=i[a],s=r.cost+n.cost,u=c.costPerNight*e.duration,h=o.slice(0,Math.min(2*e.duration,6)).reduce(((e,t)=>e+(t.types.some((e=>e.includes('park')||e.includes('beach')))?0:5e3)),0),g=s+u+h;g<=1.1*e.budget&&d.push({id:`${t}-${a}`,transports:[r,n],accommodations:[c],attractions:o.slice(0,Math.min(2*e.duration,6)),totalCost:g,totalDuration:r.duration+n.duration,score:0,breakdown:{transport:s,accommodation:u,attractions:h,total:g}})}return c(`âœ… ${d.length}ê°œ ì¡°í•© ìƒì„±`),d.forEach((t=>{const c=Math.max(0,1-t.totalCost/e.budget);t.score=c*a.cost+.7*a.time+.5*a.preference+.9*a.fatigue})),d.sort(((e,t)=>t.score-e.score)),c(`ğŸ‰ ì™„ë£Œ! ${d.length}ê°œ ê²½ë¡œ`),{candidates:d.slice(0,8),iterations:1,weights:a}}catch(e){throw console.error(e),e}}generateTransportOptions(e,t,a,c){const r=[],n=recommendTransportMode(c.distance),s=new Date(e.startDate),o=[7,10,14,17];return n.forEach((t=>{o.forEach((a=>{const n=calculateTransportCost(c.distance,t),o=c.duration>0?c.duration:calculateTransportDuration(c.distance,t),i=new Date(s);i.setHours(a,0,0,0),r.push({type:t,from:e.departure,to:e.destination,cost:n,duration:o,departureTime:i.toISOString()})}))})),r}generateAccommodationOptions(e){const t=['ì„œìš¸','ë¶€ì‚°','ì œì£¼','ê²½ì£¼'],a=t.some((t=>e.destination.includes(t))),c=[],r=[{name:'budget',price:5e4,rating:3.8,tags:['ê°€ì„±ë¹„','ê¹”ë”']},{name:'standard',price:8e4,rating:4.3,tags:['í¸ì•ˆ','ì¡°ì‹í¬í•¨']},{name:'premium',price:15e4,rating:4.8,tags:['ëŸ­ì…”ë¦¬','ì˜¤ì…˜ë·°']}];return r.forEach((t=>{const r=t.price*e.duration*(a?1.3:1);r<=.5*e.budget&&c.push({name:`${e.destination} ${'budget'===t.name?'ê²ŒìŠ¤íŠ¸í•˜ìš°ìŠ¤':'standard'===t.name?'ë¹„ì¦ˆë‹ˆìŠ¤ í˜¸í…”':'í”„ë¦¬ë¯¸ì—„ ë¦¬ì¡°íŠ¸'}`,location:e.destination,costPerNight:Math.round(r/e.duration),rating:t.rating,tags:t.tags})})),c}}let map,selectedMarkers=[],searchResult=null,selectedPreferences=[];const searchService=new EnhancedRouteSearchService;function init(){map=L.map('map').setView([36.5,127.5],7),L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png',{attribution:'Â© OpenStreetMap contributors'}).addTo(map),document.getElementById('startDate').valueAsDate=new Date,document.getElementById('budget').addEventListener('input',(e=>{document.getElementById('budgetDisplay').textContent=parseInt(e.target.value).toLocaleString()+'ì›'}));const e=document.getElementById('preferenceTags');PREFERENCE_TAGS.forEach((t=>{const a=document.createElement('button');a.type='button',a.className='tag',a.textContent=t,a.onclick=(()=>{a.classList.toggle('active'),a.classList.contains('active')?selectedPreferences.push(t):selectedPreferences=selectedPreferences.filter((e=>e!==t))}),e.appendChild(a)})),document.getElementById('searchForm').addEventListener('submit',(async e=>{e.preventDefault(),await handleSearch()}))}async function handleSearch(){const e=document.getElementById('searchBtn'),t=document.getElementById('btnText'),a=document.getElementById('btnSpinner'),c=document.getElementById('errorMessage'),r=document.getElementById('progressBox'),n=document.getElementById('progressMessages');e.disabled=!0,t.style.display='none',a.style.display='inline',c.style.display='none',r.style.display='block',n.innerHTML='',document.getElementById('emptyState').style.display='none',document.getElementById('resultsContainer').style.display='none';try{const e={departure:document.getElementById('departure').value,destination:document.getElementById('destination').value,startDate:document.getElementById('startDate').value,duration:parseInt(document.getElementById('duration').value),budget:parseInt(document.getElementById('budget').value),preferences:selectedPreferences},t=await searchService.search(e,(e=>{n.innerHTML+=e+'<br>',n.scrollTop=n.scrollHeight}));searchResult=t,displayResults(t),r.style.display='none'}catch(e){console.error(e),c.textContent=e.message,c.style.display='block',r.style.display='none'}finally{e.disabled=!1,t.style.display='inline',a.style.display='none'}}function displayResults(e){const t=document.getElementById('resultsContainer');t.style.display='block',t.innerHTML='';const a=document.createElement('div');a.className='card results-summary',a.innerHTML=`<h3>ê²€ìƒ‰ ì™„ë£Œ</h3><p>âœ… ${e.candidates.length}ê°œ ê²½ë¡œ ë°œê²¬</p><p>ğŸ”„ ${e.iterations}íšŒ ìµœì í™”</p>`,t.appendChild(a),e.candidates.forEach(((e,a)=>{const c=document.createElement('div');c.className='route-card',0===a&&c.classList.add('selected');const r={flight:'âœˆï¸',train:'ğŸš„',bus:'ğŸšŒ',car:'ğŸš—'};c.innerHTML=`<div class="route-header"><div class="route-title"><h3>ê²½ë¡œ #${a+1}</h3>${0===a?'<span class="badge recommended">ì¶”ì²œ</span>':''}</div><div class="route-price"><div class="price-main">${e.totalCost.toLocaleString()}ì›</div><div class="price-sub">${Math.floor(e.totalDuration/60)}ì‹œê°„ ${e.totalDuration%60}ë¶„</div></div></div><div class="breakdown"><div class="breakdown-item"><div class="breakdown-label">êµí†µë¹„</div><div class="breakdown-value">${e.breakdown.transport.toLocaleString()}ì›</div></div><div class="breakdown-item"><div class="breakdown-label">ìˆ™ë°•ë¹„</div><div class="breakdown-value">${e.breakdown.accommodation.toLocaleString()}ì›</div></div><div class="breakdown-item"><div class="breakdown-label">ì…ì¥ë£Œ</div><div class="breakdown-value">${e.breakdown.attractions.toLocaleString()}ì›</div></div></div><div class="section"><div class="section-title">ğŸš„ êµí†µ</div>${e.transports.map((e=>`<div class="transport-item"><span class="transport-icon">${r[e.type]||'ğŸš—'}</span><span>${e.from} â†’ ${e.to}</span><span style="margin-left: auto; font-weight: 600;">${e.cost.toLocaleString()}ì›</span></div>`)).join('')}</div><div class="section"><div class="section-title">ğŸ¨ ìˆ™ì†Œ</div>${e.accommodations.map((e=>`<div style="padding: 10px; background: #f7fafc; border-radius: 6px;"><div style="font-weight: 600;">${e.name}</div><div style="font-size: 14px; color: #718096; margin-top: 5px;">â­ ${e.rating.toFixed(1)} â€¢ ${e.costPerNight.toLocaleString()}ì›/ë°•</div><div class="tag-list">${e.tags.map((e=>`<span class="tag-small">${e}</span>`)).join('')}</div></div>`)).join('')}</div><div class="section"><div class="section-title">ğŸ¯ ì¶”ì²œ ëª…ì†Œ</div><div class="attraction-grid">${e.attractions.map((e=>`<div class="attraction-item"><div class="attraction-name">${e.name}</div><div class="attraction-details">â­ ${e.rating.toFixed(1)}</div></div>`)).join('')}</div></div>`,c.onclick=(()=>{document.querySelectorAll('.route-card').forEach((e=>e.classList.remove('selected'))),c.classList.add('selected')}),t.appendChild(c)}))}window.addEventListener('DOMContentLoaded',init);
    </script>
</body>
</html>
